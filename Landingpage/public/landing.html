<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="./images/ktt_logo.jpg" type="image/x-icon">
    <title>Sales Visit Planner</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        xintegrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="landingpage.css">
</head>

<body>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        xintegrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <nav class="headernav">
        <div><a href="#" style="font-weight: 900;">Calendar</a></div>
        <div><a href="#" id="visittable">Visits</a></div>
        <div><a href="#">Dashboard</a></div>
        <button class="Btn" id="logout-btn" title="Logout">
          <div class="sign"><svg viewBox="0 0 512 512"><path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"></path></svg></div>
          <div class="text">Logout</div>
        </button>
    </nav>
    <div class="main-content">
        <div class="calendar">
            <div class="calendar-header">
                <p id="month-year" style="display: inline-block; margin-left: 0%;"><p>
                <span class="angelbrackets">
                    <span id="prev-month">&lt;</span>
                    <span id="next-month">&gt;</span>
                </span>
            </div>
            <div class="calendar-grid"></div>
            <p class="other-calendar">Other Calendars<p>
            <a href="#">Employee1</a>
            <a href="#">Employee2</a>
            <a href="#">Employee3</a>
        </div>

        <div class="view-wrapper">
            <div class="week-header">
                <p id="view-title" style="margin-bottom: 0 !important;">Visit Timeline</p>
                <button type="button" id="today-btn" class="btn btn-secondary">Today</button>
                <div class="date-range" id="view-date-range" style="width: 250px; display: flex; ">April 2025</div>
                <span id="prev-months">&lt</span>
                <span id="next-months">&gt</span>
                <div class="view-toggle" id="calendar-view-toggle">
                    <button data-view="day" class="view-btn">Day</button>
                    <button data-view="week" class="view-btn active">Week</button>
                    <button data-view="month" class="view-btn">Month</button>
                </div>
            </div>
            <div id="main-view-container">

            </div>
        </div>
    </div>

    <div id="visit-modal" class="modal" tabindex="-1">
        <div class="modal-content">
            <form id="visit-form">
                <div class="form-section">
                    <img src="./images/close_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24.png" alt="Close Button"
                        id="closeModal" onclick="closeform()" width="25px" height="20px">
                    <div>
                        <input type="hidden" id="visit-id-holder">
                        <input type="hidden" id="customer-id-holder">
                        <input type="hidden" id="lead-contact-id-holder">

                         <div class="form-row">
                            <div class="form-group">
                                <label for="companydetails">Customer</label>
                                <select name="companydetails" id="companydetails">
                                    <option value="">Select a Customer</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                             <div class="form-group">
                                <label for="person-name-input">Name (Customer)</label>
                                <input type="text" id="person-name-input" list="customer-suggestions" placeholder="Select company to see suggestions">
                                <datalist id="customer-suggestions"></datalist>
                            </div>
                        </div>

                        <h4 style="text-align: center;">Or</h4>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="leaddetails">Lead</label>
                                <select name="leaddetails" id="leaddetails">
                                    <option value="">Select a Lead.</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                             <div class="form-group">
                                <label for="lead-person-name-input">Name (Lead)</label>
                                <input type="text" id="lead-person-name-input" list="lead-contact-suggestions" placeholder="Select lead to see suggestions">
                                <datalist id="lead-contact-suggestions"></datalist>
                            </div>
                        </div>

                        <h3>Contact Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contact-details-input">Contact Details</label>
                                <input type="text" id="contact-details-input" placeholder="Select a person to see details" required>
                            </div>
                        </div>
                        
                        <h3>Visits Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="visit-employee-id">Employee ID</label>
                                <input type="text" id="visit-employee-id" placeholder="Employee ID" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="visit-date">Visit Date</label>
                                <input type="date" id="visit-date" placeholder="Visit Date" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="starttime">Visit start time</label>
                                <input type="time" id="starttime" placeholder="Visit start time" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="endtime">Visit end time</label>
                                <input type="time" id="endtime" placeholder="Visit end time" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="visit-location">Location</label>
                                <input type="text" id="visit-location" placeholder="Visit location" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="purpose">Visit Purpose</label>
                                <input type="text" id="purpose" placeholder="Visit purpose" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="visit-status">Visit Status:</label>
                                <select id="visit-status" name="visitStatus" required>
                                    <option value="Planned" selected>Planned</option>
                                    <option value="Completed">Completed</option>
                                    <option value="Cancelled">Cancelled</option>
                                    <option value="Pending">Pending</option>
                                    <option value="In-Progress">In-Progress</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row" id="visits-completed" style="display: none;">
                            <div class="form-group">
                                <label for="completion-notes">Completion Notes (if any):</label>
                                <textarea id="completion-notes" name="completionNotes"
                                    placeholder="Enter notes about the completed visit"></textarea>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right; padding: 15px 20px; border-top: 1px solid #eee;">
                        <button type="button" class="cancel-btn" onclick="closeform()">Cancel</button>
                        <button type="submit" id="save-btn" class="save-btn" style="margin-left: 10px;">Save
                            Visit</button>
                        <button type="button" id="save-add-another-btn" class="save-btn"
                            style="margin-left: 10px; background-color: #00796b; border: none;">Save & Add
                            Another</button>
                        <button type="button" id="update-btn" class="save-btn"
                            style="margin-left: 10px; display: none;">Update</button>
                        <button type="button" id="delete-visit-btn" class="cancel-btn"
                            style="background-color: #e53935; display: none; margin-left: 10px;">Delete</button>
                    </div>
            </form>
        </div>
    </div>

    <div id="visit-tooltip" class="visit-tooltip"></div>

    <script src="./landingpage.js"></script>
</body>

</html>
